From 23b91357a0aae3aa8a034902841ebe3703a0edcf Mon Sep 17 00:00:00 2001
From: Scott K Logan <logans@cottsay.net>
Date: Wed, 10 Mar 2021 18:51:49 -0800
Subject: [PATCH] Drop FastRTPS dependencies

This RMW isn't available for RHEL.

Signed-off-by: Scott K Logan <logans@cottsay.net>
---
 package.xml          | 1 -
 rpm/template.spec.em | 5 +++++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/package.xml b/package.xml
index c813d221..9601f109 100644
--- a/package.xml
+++ b/package.xml
@@ -15,7 +15,6 @@
 
   <depend>rclcpp</depend>
   <depend>rclcpp_components</depend>
-  <depend>rmw_fastrtps_cpp</depend>
   <depend>std_msgs</depend>
 
   <test_depend>ament_cmake_pytest</test_depend>
diff --git a/rpm/template.spec.em b/rpm/template.spec.em
index f7231506..67c37c1d 100644
--- a/rpm/template.spec.em
+++ b/rpm/template.spec.em
@@ -1,3 +1,8 @@
+@{
+# FastRTPS is not available for RHEL 8 - ignore any deps related to it
+Depends = [d for d in Depends if 'fastrtps' not in d]
+BuildDepends = [d for d in BuildDepends if 'fastrtps' not in d]
+}@
 %bcond_without tests
 %bcond_without weak_deps
 
-- 
2.29.2

